"use strict";var RecordSeek=RecordSeek||{};RecordSeek.helpers={isNotString:function(a){return"string"!=typeof a}},"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),angular.module("recordseekApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).run(["$rootScope","$location","$cookies","$window","fsAPI","$http","$log",function(a,b,c,d,e,f,g){f.defaults.useXDomain=!0,delete f.defaults.headers.common["X-Requested-With"],window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),document.location.origin||(document.location.origin=window.location.origin),a.helpers=RecordSeek.helpers,a.attachMsg="This source was created for free with http://RecordSeek.com",a.debug="production"==e.settings.environment||"beta"==e.settings.environment?!1:!0,a.debug||(ga("create","UA-16096334-10"),ga("send","pageview")),a.service="",a.log=function(b){a.debug&&g.debug(b)},a.logout=function(){"FamilySearch"===a.service&&(e.helpers.eraseAccessToken(!0),b.path("/"))},a.track=function(b){a.debug?a.log(b):ga("send","event",b)},a.actionTaken=function(c){var e=c.currentTarget.attributes;e["data-tracking"]&&a.track({eventCategory:"App",eventAction:e["data-tracking"].value}),e.target&&"_blank"===e.target.value?d.open(e["data-href"].value):b.path(e["data-href"].value)},a.expires=15,window.liveSettings={api_key:"11643e1c6ccd4371bfb889827b19fde3",picker:"#languagePicker",detectlang:!0,dynamic:!0,autocollect:!0,staging:!0};var h=document.URL.split("#/"),i=e.helpers.decodeQueryString(h[0]);if(b.$$absUrl.indexOf("?_")>-1&&-1===b.$$absUrl.indexOf("/#"),a.sourceBoxURL="https://familysearch.org/links-gadget/linkpage.jsp?referrer=/links-gadget/linkpage.jsp#sbp",i){var j=i,k={},l=["h1","_","title","citation","notes","url"];for(var m in j){var n=j[m],o=typeof n;if(null!==n&&"string"===o&&j.hasOwnProperty(m)){if(-1!==m.indexOf(".")){var p=m.split(".");j[p[0]]=j[p[0]]?j[p[0]]:[],j[p[0]][p[1]]=j[m].replace(/(\r\n|\n|\r)/gm,"").replace(/ +(?= )/g,"").trim()}else j[m]=j[m].replace(/(\r\n|\n|\r)/gm,"").replace(/ +(?= )/g,"").trim();-1===l.indexOf(m)&&""!=j[m]&&(k[m]=j[m])}}angular.equals({},k)||(a.log(k),a.personData=k),a.data=j,a.data.sourceFormat||(a.data.sourceFormat="MLA");var q="/Date("+a.data._+")/",r=new Date(parseFloat(q.substr(6))),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=r.getFullYear(),u=s[r.getMonth()],v=r.getDate();if(a.data.time=v+" "+u+". "+t,a.data.url&&""!==a.data.url){if(a.data.url.indexOf("ancestry")>-1&&(a.data.url=a.data.url.replace("ancestryinstitution.com","ancestry.com").replace("ancestrylibrary.com","ancestry.com").replace("ancestrylibrary.proquest.com","ancestry.com")),a.data.url.indexOf("search.ancestry.com")>-1){var w=e.helpers.decodeQueryString(a.data.url),x={};w.h&&(x.h=w.h),w.db&&(x.db=w.db),w.indiv&&(x.indiv=w.indiv),w.pid&&(x.pid=w.pid),a.data.url=e.helpers.appendQueryParameters(e.helpers.removeQueryString(a.data.url),x)}if(a.data.url.indexOf("interactive.ancestry.com")>-1&&(a.data.url=e.helpers.removeQueryString(a.data.url)),a.data.url.indexOf("billiongraves.com")>-1){var y=a.data.url.split("/");a.data.citation='"Billion Graves Record," BillionGraves ('+a.data.url+" accessed ".$rootScope.data.time+"), ".$rootScope.data.description+" Record #"+y[y.length-1]+". Citing BillionGraves, Headstones, BillionGraves.com."}else a.data.citation||(a.data.citation='"'+a.data.title+'." '+a.data.title+". N.p., n.d. Web. "+a.data.time+". <"+a.data.url+">.");var z=a.data.url.split("//"),A=z[1];z=A.split("/"),a.data.domain=z[0].charAt(0).toUpperCase()+z[0].slice(1),a.track({eventCategory:"Domain",eventAction:a.data.domain.toLowerCase().replace("www.","")})}a.data.notes&&(a.data.notes=a.data.notes.trim().replace("#/fs-source","")),a.data.notes&&""!==a.data.notes.trim()?a.data.notes+="\n\n":a.data.notes="",-1===a.data.notes.indexOf(a.attachMsg)&&(a.data.notes+=a.attachMsg),a.data.title||(a.data.title=""),a.data.citation||(a.data.citation="")}else"http://recordseek.com"!==document.location.origin&&"https://recordseek.com"!==document.location.origin&&!a.data;a.$on("$routeChangeSuccess",function(){"http://recordseek.com"!==document.location.origin&&"https://recordseek.com"!==document.location.origin&&a.data&&"/about"!==b.$$path&&"/support"!==b.$$path&&"/expired"!==b.$$path&&a.data}),a.data||(a.data={}),a.data.addPerson||(a.data.addPerson={}),a.auth={};var B="";if(a.resetSearch=function(b){a.data.search&&a.data.search.advanced&&(B=a.data.search.advanced);var c={givenName:"",givenNameExact:"",surname:"",surnameExact:"",gender:"",eventType:"",eventDate:"",eventDateFrom:"",eventDateTo:"",eventPlace:"",eventPlaceExact:"",spouseGivenName:"",spouseGivenNameExact:"",spouseSurname:"",spouseSurnameExact:"",motherGivenName:"",motherGivenNameExact:"",motherSurname:"",motherSurnameExact:"",fatherGivenName:"",fatherGivenNameExact:"",fatherSurname:"",fatherSurnameExact:"",pid:"",status:""};return""!==B?c.advanced=B:B=!1,b?c:void(a.data.search=c)},!a.data.search&&(a.resetSearch(),a.data.search.advanced=!1,a.personData&&!angular.equals({},a.personData)))for(var m in a.personData)a.personData[m],-1!==a.data.search.hasOwnProperty(m)&&(a.data.search[m]=a.personData[m])}]).constant("_",_).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/loading",{templateUrl:"views/loading.html",controller:"LoadingCtrl"}).when("/support",{templateUrl:"views/support.html",controller:"SupportCtrl"}).when("/fs-source",{templateUrl:"views/fs-source.html",controller:"FsSourceCtrl"}).when("/fs-upload",{templateUrl:"views/fs-upload.html",controller:"FsUploadCtrl"}).when("/fs-search",{templateUrl:"views/fs-search.html",controller:"FsSearchCtrl"}).when("/fs-addperson",{templateUrl:"views/fs-addperson.html",controller:"FsAddpersonCtrl"}).when("/fs-attach",{templateUrl:"views/fs-attach.html",controller:"FsAttachCtrl"}).when("/fs-addattach",{templateUrl:"views/fs-addattach.html",controller:"FsAddAttachCtrl"}).when("/fs-complete",{templateUrl:"views/fs-complete.html",controller:"FsCompleteCtrl"}).when("/a-source",{templateUrl:"views/a-source.html",controller:"ASourceCtrl"}).when("/fs-results",{templateUrl:"views/fs-results.html",controller:"FsResultsCtrl"}).when("/fs-create",{templateUrl:"views/fs-create.html",controller:"FsCreateCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("recordseekApp").controller("MainCtrl",["$scope","$rootScope",function(a,b){b.service=""}]);var init=function(){var a=800,b=675;window.resizeTo(a,b),window.moveTo(screen.width-a,(screen.height-b)/2)};angular.module("recordseekApp").controller("LoadingCtrl",["$rootScope",function(a){a.service=""}]),angular.module("recordseekApp").controller("AboutCtrl",["$rootScope",function(a){a.service=""}]),angular.module("recordseekApp").controller("SupportCtrl",["$rootScope",function(a){a.service=""}]),angular.module("recordseekApp").controller("FsSourceCtrl",["$cookies","$rootScope","$location","$scope","fsAPI",function(a,b,c,d,e,f){b.service="FamilySearch",d.fsLogout=function(){e.helpers.eraseAccessToken(!0),c.path("/")},e.getCurrentUser().then(function(a){d.user=a.getUser(),b.log(d.user)}),d.tagCounting=function(){var a=0;angular.forEach(d.data.tags,function(b,c){b===!0&&a++},a),0===a&&(a=""),d.tagCount=a},d.tagCounting(),b.data.search.newPerson&&delete b.data.search.newPerson,d.origSource=b.data.citation,d.goNext=function(){c.path("/fs-search"),d.origSource!==b.data.citation&&b.track({eventCategory:"FamilySearch",eventAction:"Citation",eventLabel:"Modified"})},d.goBack=function(){b.service="",c.path("/")},d.goUpload=function(){c.path("/fs-upload")},d.createNow=function(){b.track({eventCategory:"FamilySearch",eventAction:"Create",eventLabel:"Now"}),c.path("/fs-create")},!b.personData||angular.equals({},b.personData)||b.skipSource||(b.skipSource=1,d.goNext())}]),angular.module("recordseekApp").controller("FsUploadCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("recordseekApp").controller("FsSearchCtrl",["$rootScope","$location","$scope","fsAPI","fsUtils",function(a,b,c,d,e){a.service="FamilySearch",d.getCurrentUser().then(function(b){a.user=b.getUser()}),a.data.search.advanced?c.advancedButtonText="Basic":c.advancedButtonText="Advanced",c.emptyData=a.resetSearch(!0),c.getLocation=e.getLocation,c.removeEmpty=e.removeEmptyProperties,c.advancedSearch=function(){a.data.search.advanced?(a.data.search.advanced=!1,c.advancedButtonText="Advanced"):(c.advancedButtonText="Basic",a.data.search.advanced=!0)},c.validData=function(){return angular.equals(c.emptyData,a.data.search)?!0:!1},c.goNext=function(){angular.equals(c.emptyData,a.data.search)||b.path("/fs-results")},c.goBack=function(){b.path("/fs-source")}}]),angular.module("recordseekApp").controller("FsAddpersonCtrl",["$rootScope","$location","$scope","fsAPI","fsUtils",function(a,b,c,d,e){a.service="FamilySearch",d.getCurrentUser().then(function(b){a.user=b.getUser()}),a.data.search=e.cleanSearch(a.data.search),(a.data.search.motherGivenName||a.data.search.motherSurname||a.data.search.fatherGivenName||a.data.search.fatherSurname||a.data.search.spouseGivenName||a.data.search.spouseSurname)&&(c.isCollapsed=!0),c.langTemplates=e.langTemplates(),c.status={isopen:!1},c.toggleDropdown=function(a){a.preventDefault(),a.stopPropagation(),c.status.isopen=!c.status.isopen},c.changeTemplate=function(b){a.data.search.langTemplate=b,"Cyrillic"==b?(c.title1="Cyrillic",c.title2="Roman"):"Chinese"==b?(c.title1="Hanzi",c.title2="Roman"):"Japanese"==b?(c.title1="Kanji",c.title2="Kana",c.title3="Roman"):"Khmer"==b?(c.title1="Khmer",c.title2="Roman"):"Korean"==b?(c.title1="Hangul",c.title2="Hanja",c.title3="Roman"):"Mongolian"==b?(c.title1="Mongolian",c.title2="Roman"):"Thai"==b?(c.title1="Thai",c.title2="Roman"):"Vietnamese"==b&&(c.title1="Vietnamese",c.title2="Roman")},c.getLocation=e.getLocation,c.removeEmpty=e.removeEmptyProperties,c.getDate=e.getDate,c.goNext=function(){a.data.search.newPerson=1,b.path("/fs-addattach")},c.goBack=function(){b.path("/fs-search")}}]),angular.module("recordseekApp").controller("FsAddAttachCtrl",["$rootScope","$location","$scope","fsAPI","fsUtils",function(a,b,c,d,e){a.service="FamilySearch",d.getCurrentUser().then(function(b){a.fsUser=b.getUser()}),a.log(a.data.search),a.data.search=e.cleanSearch(a.data.search),a.toCreate=[];var f="",g={};a.data.search.langTemplate&&(g.names={},"Cyrillic"==a.data.search.langTemplate?(g.names.cyrillic={},f={title:"Name",sub:"Cyrillic",value:""},a.data.search.prefix1&&(f.value+=a.data.search.prefix1+" ",g.names.cyrillic.$prefix=a.data.search.prefix1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.cyrillic.$givenName=a.data.search.givenName1),a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.cyrillic.$surname=a.data.search.surname1),a.data.search.suffix1&&(f.value+=a.data.search.suffix1,g.names.cyrillic.$suffix=a.data.search.suffix1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.prefix2&&(f.value+=a.data.search.prefix2+" ",g.names.roman.$prefix=a.data.search.prefix2),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.roman.$givenName=a.data.search.givenName2),a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.roman.$surname=a.data.search.surname2),a.data.search.suffix2&&(f.value+=a.data.search.suffix2),""!==f.value&&a.toCreate.push(f)):"Chinese"==a.data.search.langTemplate?(f={title:"Name",sub:"Hanzi",value:""},g.names.hanzi={},a.data.search.prefix1&&(f.value+=a.data.search.prefix1+" ",g.names.hanzi.$prefix=a.data.search.prefix1),a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.hanzi.$surname=a.data.search.surname1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.hanzi.$givenName=a.data.search.givenName1),a.data.search.suffix1&&(f.value+=a.data.search.suffix1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.prefix2&&(f.value+=a.data.search.prefix2+" ",a.newPerson.names.roman.$prefix=a.data.search.prefix2),a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.roman.$surname=a.data.search.surname2),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.roman.$givenName=a.data.search.givenName1),a.data.search.suffix2&&(f.value+=a.data.search.suffix2),""!==f.value&&a.toCreate.push(f)):"Japanese"==a.data.search.langTemplate?(f={title:"Name",sub:"Kanji",value:""},g.names.kanji={},a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.kanji.$surname=a.data.search.surname1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.kanji.$givenName=a.data.search.givenName1),a.data.search.suffix1&&(f.value+=a.data.search.suffix1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Kana",value:""},g.names.kana={},a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.kana.$surname=a.data.search.surname2),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.kana.$givenName=a.data.search.givenName2),a.data.search.suffix2&&(f.value+=a.data.search.suffix2),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.surname3&&(f.value+=a.data.search.surname3+" ",g.names.roman.$surname=a.data.search.surname3),a.data.search.givenName3&&(f.value+=a.data.search.givenName3+" ",g.names.roman.$givenName=a.data.search.givenName3),a.data.search.suffix3&&(f.value+=a.data.search.suffix3),""!==f.value&&a.toCreate.push(f)):"Khmer"==a.data.search.langTemplate?(f={title:"Name",sub:"Khmer",value:""},g.names.khmer={},a.data.search.prefix1&&(f.value+=a.data.search.prefix1+" ",a.newPerson.names.khmer.$prefix=a.data.search.prefix1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.khmer.$givenName=a.data.search.givenName1),a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.khmer.$surname=a.data.search.surname1),a.data.search.suffix1&&(f.value+=a.data.search.suffix1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.prefix2&&(g.names.roman.$prefix=a.data.search.prefix2,f.value+=a.data.search.prefix2+" "),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.roman.$givenName=a.data.search.givenName2),a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.roman.$surname=a.data.search.surname2),a.data.search.suffix2&&(f.value+=a.data.search.suffix2),""!==f.value&&a.toCreate.push(f)):"Korean"==a.data.search.langTemplate?(f={title:"Name",sub:"Hangul",value:""},g.names.hangul={},a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.hangul.$surname=a.data.search.surname1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.hangul.$givenName=a.data.search.givenName1),a.data.search.suffix1&&(f.value+=a.data.search.suffix1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Hanja",value:""},g.names.hanja={},a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.hanji.$surname=a.data.search.surname2),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.hanja.$givenName=a.data.search.givenName2),a.data.search.suffix2&&(f.value+=a.data.search.suffix2),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.surname3&&(f.value+=a.data.search.surname3+" ",g.names.roman.$surname=a.data.search.surname3),a.data.search.givenName3&&(f.value+=a.data.search.givenName3+" ",g.names.roman.$givenName=a.data.search.givenName3),a.data.search.suffix3&&(f.value+=a.data.search.suffix3),""!==f.value&&a.toCreate.push(f)):"Mongolian"==a.data.search.langTemplate?(f={title:"Name",sub:"Mongolian",value:""},g.names.mongolian={},a.data.search.prefix1&&(f.value+=a.data.search.prefix1+" ",g.names.mongolian.$prefix=a.data.search.prefix1),a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.mongolian.$surname=a.data.search.surname1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.mongolian.$givenName=a.data.search.givenName1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.prefix2&&(f.value+=a.data.search.prefix2+" ",g.names.roman.$prefix=a.data.search.prefix2),a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.roman.$surname=a.data.search.surname2),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.roman.$givenName=a.data.search.givenName2),""!==f.value&&a.toCreate.push(f)):"Thai"==a.data.search.langTemplate?(f={title:"Name",sub:"Thai",value:""},g.names.thai={},a.data.search.prefix1&&(f.value+=a.data.search.prefix1+" ",g.names.thai.$prefix=a.data.search.prefix1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.thai.$givenName=a.data.search.givenName1),a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.thai.$surname=a.data.search.surname1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.prefix2&&(f.value+=a.data.search.prefix2+" ",g.names.roman.$prefix=a.data.search.prefix2),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.roman.$givenName=a.data.search.givenName2),a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.roman.$surname=a.data.search.surname2),""!==f.value&&a.toCreate.push(f)):"Vietnamese"==a.data.search.langTemplate?(f={title:"Name",sub:"Vietnamese",value:""},g.names.vietnamese={},a.data.search.prefix1&&(f.value+=a.data.search.prefix1+" ",g.names.vietnamese.$prefix=a.data.search.prefix1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.vietnamese.$givenName=a.data.search.givenName1),a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.vietnamese.$surname=a.data.search.surname1),""!==f.value&&a.toCreate.push(f),f={title:"Name",sub:"Roman",value:""},g.names.roman={},a.data.search.prefix2&&(f.value+=a.data.search.prefix2+" ",g.names.roman.$prefix=a.data.search.prefix2),a.data.search.givenName2&&(f.value+=a.data.search.givenName2+" ",g.names.roman.$givenName=a.data.search.givenName1),a.data.search.surname2&&(f.value+=a.data.search.surname2+" ",g.names.roman.$surname=a.data.search.surname2),""!==f.value&&a.toCreate.push(f)):(f={title:"Name",value:""},g.names.standard={},a.data.search.prefix1&&(f.value+=a.data.search.prefix1+" ",g.names.standard.$prefix=a.data.search.prefix1),a.data.search.givenName1&&(f.value+=a.data.search.givenName1+" ",g.names.standard.$givenName=a.data.search.givenName1),a.data.search.surname1&&(f.value+=a.data.search.surname1+" ",g.names.standard.$surname=a.data.search.surname1),a.data.search.suffix1&&(f.value+=a.data.search.suffix1),a.toCreate.push(f))),a.data.search.gender&&(a.toCreate.push({title:"Gender",value:a.data.search.gender}),g.gender="http://gedcomx.org/"+a.data.search.gender),g.events={},(a.data.search.birthDate||a.data.search.birthPlace)&&(f={title:"Birth",value:""},g.events.birth={type:"http://gedcomx.org/Birth"},a.data.search.birthDate&&(a.data.search.birthDate.normalized?(f.value+=a.data.search.birthDate.normalized,g.events.birth.$date=a.data.search.birthDate.normalized):(f.value+=a.data.search.birthDate,g.events.birth.$date=a.data.search.birthDate)),a.data.search.birthPlace&&(a.data.search.birthDate&&(f.value+="<br />"),f.value+=a.data.search.birthPlace,g.events.birth.$place=a.data.search.birthPlace),a.toCreate.push(f)),(a.data.search.deathDate||a.data.search.deathPlace)&&"Living"!=a.data.search.status?(f={title:"Death",value:""},g.events.death={type:"http://gedcomx.org/Death"},a.data.search.deathDate&&(a.data.search.deathDate.normalized?(f.value+=a.data.search.deathDate.normalized,g.events.death.$date=a.data.search.deathDate.normalized):(f.value+=a.data.search.deathDate,g.events.death.$date=a.data.search.deathDate)),a.data.search.deathPlace&&(a.data.search.deathDate&&(f.value+="<br />"),f.value+=a.data.search.deathPlace,g.events.death.$place=a.data.search.deathPlace),a.toCreate.push(f)):a.data.search.status&&a.toCreate.push({title:"Death",value:'<span class="text-muted">'+a.data.search.status+"</span>"}),c.goBack=function(){b.path("/fs-addperson")},c.goNext=function(){angular.equals({},g)||(a.toCreate=g),b.path("/fs-create")}}]),angular.module("recordseekApp").controller("FsAttachCtrl",["$rootScope","$location","$scope","fsAPI",function(a,b,c,d){a.service="FamilySearch",d.getCurrentUser().then(function(b){a.fsUser=b.getUser()}),a.data.attach||a.debug||(a.data.search?b.path("/fs-results"):b.path("/fs-search")),a.data.attach.justification||(a.data.attach.justification=""),c.goBack=function(){b.path("/fs-results")},c.goNext=function(){b.path("/fs-create")}}]),angular.module("recordseekApp").controller("FsCompleteCtrl",["fsAPI","$rootScope","$scope","$location",function(a,b,c,d){b.service="FamilySearch",console.log(b.data),c.goSearch=function(){d.path("/fs-search")}}]),angular.module("recordseekApp").provider("fsAPI",["_",function(a){this.environment="sandbox","http://recordseek.com"===document.location.origin||"https://recordseek.com"===document.location.origin?this.environment="production":"http://localhost:9000"===document.location.origin?this.environment="sandbox":this.environment="beta","http://recordseeknew.dev"===document.location.origin||"https://recordseeknew.dev"===document.location.origin,"sandbox"===this.environment?this.client_id="a0T3000000ByxnUEAR":this.client_id="S1M9-QH77-ZGJK-2HB1-MYZZ-6YN9-SBNQ-6YPS",this.redirect_uri=document.location.origin,"http://localhost:9000"!==document.location.origin&&(this.redirect_uri+="/share/"),this.$get=["$window","$http","$q","$timeout","$rootScope","$injector","$location",function(a,b,c,d,e,f,g){if(this.client_id&&this.environment&&this.redirect_uri&&(this.getEnvironment=function(){return this.environment},b.defaults.useXDomain=!0,delete b.defaults.headers.common["X-Requested-With"],this.client=new FamilySearch({client_id:this.client_id,environment:this.environment,redirect_uri:this.redirect_uri,http_function:b,deferred_function:c.defer,save_access_token:!0,auto_expire:!0,timeout_function:d,expire_callback:function(a){var b=a.helpers.decodeQueryString(document.URL);if(!b||b&&!b.code&&!b.state){var c=a.helpers.removeQueryString(document.URL);e.data.sourceDescription&&""!=e.data.sourceDescription.id&&(e.personData.sourceDescription={id:e.data.sourceDescription.id}),c=a.helpers.appendQueryParameters(c,e.personData),a.getOAuth2AuthorizeURL(c).then(function(a){window.location=a})}}}),this.urlParams=this.client.helpers.decodeQueryString(document.URL),this.urlParams.code&&this.urlParams.state)){e.status="Authenticating, please wait.",g.path("/loading");var h=this.urlParams.state.split("#");h=h[0]+="#/fs-source",this.client.getAccessToken(this.urlParams.code).then(function(){window.location=h})}return this.client}]}]),angular.module("recordseekApp").controller("ASourceCtrl",["$rootScope","$location","$scope","$window","$cookies",function(a,b,c,d,e){a.service="Ancestry",c.goNext=function(){a.debug&&e.remove("recordseek");var b="http://trees.ancestry.com/savetoancestry?o_sch=Web+Property";a.data.url&&(b+="&url="+encodeURIComponent(a.data.url)),a.data.domain&&(b+="&domain="+encodeURIComponent(a.data.domain)),a.data.title&&(b+="&collection="+encodeURIComponent(a.data.title)),a.data.citation&&(b+="&details="+encodeURIComponent(a.data.citation)),a.track({eventCategory:"Ancestry",eventAction:"Source",eventLabel:b}),d.location.href=b},c.goBack=function(){a.service="",b.path("/")}}]),angular.module("recordseekApp").controller("FsResultsCtrl",["$rootScope","$location","$scope","fsAPI","fsUtils",function(a,b,c,d,e){a.service="FamilySearch",d.getCurrentUser().then(function(b){a.user=b.getUser()}),c.goBack=function(){a.track({eventCategory:"FamilySearch",eventAction:"Search",eventLabel:"Refine"}),b.path("/fs-search")},c.addPerson=function(){angular.equals({},a.personData)?b.path("/fs-addperson"):b.path("/fs-addattach")},c.goNext=function(c,d,e){a.track({eventCategory:"FamilySearch",eventAction:"Selected",eventLabel:c}),a.data.attach={pid:c,name:d,url:e,justification:""},b.path("/fs-attach")},c.pageChanged=function(){delete c.searchResults,c.getResults()},c.getResults=function(){var f=angular.copy(a.data.search);f.eventDate="",f.eventType&&(f.eventDateFrom&&""!==f.eventDateFrom?(f.eventDate+=f.eventDateFrom,f.eventDateTo&&""!==f.eventDateTo&&f.eventDateFrom!==f.eventDateTo&&(f.eventDate+="-"+f.eventDateTo)):f.eventDateTo&&""!==f.eventDateTo&&(f.eventDate=f.eventDateTo),f[f.eventType+"Place"]=f.eventPlace,f[f.eventType+"Date"]=String(f.eventDate)+"~"),f.advanced===!0?(f.givenName+="1"!==f.givenNameExact&&""!==f.givenName?"~":"",f.surname+="1"!==f.surnameExact&&""!==f.surname?"~":"",f.spouseGivenName+="1"!==f.spouseGivenNameExact&&""!==f.spouseGivenName?"~":"",f.spouseSurname+="1"!==f.spouseSurnameExact&&""!==f.spouseSurname?"~":"",f.fatherGivenName+="1"!==f.fatherGivenNameExact&&""!==f.fatherGivenName?"~":"",f.fatherSurname+="1"!==f.fatherSurnameExact&&""!==f.fatherSurname?"~":"",f.motherGivenName+="1"!==f.motherGivenNameExact&&""!==f.motherGivenName?"~":"",f.motherSurname+="1"!==f.motherSurnameExact&&""!==f.motherSurname?"~":"",f.eventPlace+="1"!==f.eventPlaceExact&&""!==f.eventPlace?"~":""):(f.givenName=""!==f.givenName?f.givenName+"~":"",f.surname=""!==f.surname?f.surname+"~":"",f.spouseGivenName=""!==f.spouseGivenName?f.spouseGivenName+"~":"",f.spouseSurname=""!==f.spouseSurname?f.spouseSurname+"~":"",f.fatherGivenName=""!==f.fatherGivenName?f.fatherGivenName+"~":"",f.fatherSurname=""!==f.fatherSurname?f.fatherSurname+"~":"",f.motherGivenName=""!==f.motherGivenName?f.motherGivenName+"~":"",f.motherSurname=""!==f.motherSurname?f.motherSurname+"~":"",f.eventPlace=""!==f.eventPlace?f.eventPlace+"~":""),delete f.eventType,delete f.eventDate,delete f.eventDateFrom,delete f.eventDateTo,delete f.eventPlace,delete f.advanced,delete f.givenNameExact,delete f.surnameExact,delete f.spouseGivenNameExact,delete f.spouseSurnameExact,delete f.fatherGivenNameExact,delete f.fatherSurnameExact,delete f.motherGivenNameExact,delete f.motherSurnameExact,delete f.eventPlaceExact,f=e.removeEmptyProperties(f),0!==Object.keys(f).length||a.debug||b.path("/fs-search"),c.context&&(f.context=c.context),c.min=15*c.currentPage-14,c.max=15*c.currentPage,c.min<1&&(c.min=1),c.bigTotalItems&&c.max>c.bigTotalItems&&(c.max=c.bigTotalItems),c.maxSize=5,c.bigTotalItems=0,c.index=0,c.max=0,f.pid&&""!==f.pid?d.getPersonWithRelationships(f.pid,{persons:!0}).then(function(a){c.searchResults=[];var b=a.getPrimaryPerson();if(b){c.bigTotalItems=c.max=1;var d=e.getPrimaryPerson(b);d.confidence=5,d.father=e.getRelativeData(a.getFathers()),d.mother=e.getRelativeData(a.getMothers()),d.spouse=e.getRelativeData(a.getSpouses()),d.children=e.getRelativeData(a.getChildren()),c.searchResults.push(d)}}):d.getPersonSearch(f).then(function(b){c.searchResults=[];var d=b.getSearchResults();c.bigTotalItems=b.getResultsCount(),c.index=b.getIndex(),c.max>c.bigTotalItems&&(c.max=c.bigTotalItems),a.log("Record length: "+d.length);for(var f=0,g=d.length;g>f;f++){var h=d[f],i=h.$getPrimaryPerson(),j=e.getPrimaryPerson(i);j.confidence=d[f].confidence,j.father=e.getRelativeData(h.$getFathers()),j.mother=e.getRelativeData(h.$getMothers()),j.spouse=e.getRelativeData(h.$getSpouses()),j.children=e.getRelativeData(h.$getChildren()),c.searchResults.push(j)}a.log(c.searchResults),a.track({eventCategory:"FamilySearch",eventAction:"Search",eventLabel:"Results",eventValue:d.length})})},c.currentPage=1,c.bigTotalItems=0,c.index=1,c.maxSize=0,c.numPages=1,c.getResults()}]),angular.module("recordseekApp").directive("resize",["$window",function(a){return function(b){var c=angular.element(a);b.$watch(function(){return{h:c.height(),w:c.width()}},function(a){b.windowHeight=a.h,b.windowWidth=a.w,b.style=function(){return{height:a.h-100+"px",width:a.w-100+"px"}}},!0),c.bind("resize",function(){b.$apply()})}}]),angular.module("recordseekApp").controller("FsCreateCtrl",["fsAPI","$rootScope","$scope","$location","fsUtils",function(a,b,c,d,e){function f(){c.status="Creating Person Profile for "+b.data.search.givenName1+" "+b.data.search.surname1;var d=a.createPerson();b.toCreate.names&&angular.forEach(b.toCreate.names,function(a,b){d.$addName(a)}),b.toCreate.events&&angular.forEach(b.toCreate.events,function(a,b){d.$addFact(a)}),b.toCreate.gender&&d.$setGender(b.toCreate.gender),d.$save(b.attachMsg,!0).then(function(a){b.data.attach||(b.data.attach={}),b.data.attach.pid=a,b.data.attach.name=d.$getDisplayName(),b.data.attach.url=d.identifiers["http://gedcomx.org/Persistent"][0],delete b.toCreate,g()})}function g(){if(b.toCreate)return void f();b.data.sourceDescription&&(b.data.attach||(b.data.complete="noAttachment",delete b.data.attach,d.path("/fs-complete"))),delete b.data.complete,c.status="Attaching Source to "+b.data.attach.name;var e=[];angular.forEach(b.data.tags,function(a,b){a===!0&&this.push("http://gedcomx.org/"+b)},e),a.createSourceRef({$personId:b.data.attach.pid,$sourceDescription:b.data.sourceDescription,$tags:e}).$save(b.data.attach.justification).then(function(a){b.track({eventCategory:"FamilySearch",eventAction:"Source Attached",eventLabel:a}),b.data.complete=b.data.attach,b.data.complete.sourceRef=a,delete b.data.attach,d.path("/fs-complete")})}b.service="FamilySearch",a.getCurrentUser().then(function(a){b.fsUser=a.getUser()}),!b.data.sourceDescription&&b.data.url?(c.status="Generating Source",b.log(e.removeEmptyProperties({about:b.data.url.trim()?b.data.url.trim():"",citation:b.data.citation.trim()?b.data.citation.trim():"",title:b.data.title.trim()?b.data.title.trim():"",text:b.data.notes.trim()?b.data.notes.trim():""})),a.createSourceDescription(e.removeEmptyProperties({about:b.data.url.trim()?b.data.url.trim():"",$citation:b.data.citation.trim()?b.data.citation.trim():"",$title:b.data.title.trim()?b.data.title.trim():"",$text:b.data.notes.trim()?b.data.notes.trim():""})).$save(b.attachMsg).then(function(a){b.data.sourceDescription=a,b.track({eventCategory:"FamilySearch",eventAction:"Source Created",eventLabel:a}),g()})):(b.track({eventCategory:"FamilySearch",eventAction:"Source Attached to Another"}),g())}]),angular.module("recordseekApp").factory("fsUtils",["_","$q","fsAPI","$rootScope",function(a,b,c,d){return{removeEmptyProperties:function(b){return a.omit(b,function(b){return a.isEmpty(b)&&0!==b})},getPrimaryPerson:function(a){return{pid:a.id,name:a.$getDisplayName(),birthDate:a.$getBirthDate(),gender:a.$getDisplayGender(),url:a.$getPersistentIdentifier(),birthPlace:a.$getBirthPlace(),deathDate:a.$getDeathDate(),deathPlace:a.$getDeathPlace()}},getLocation:function(a){return c.getPlacesSearch({name:a,count:10}).then(function(a){for(var b=[],c=a.getSearchResults(),d=0;d<c.length;d++){var e=c[d].$getPlace();b.push(e.$getFullName())}return b})},getDate:function(a){return c.getDate(a).then(function(a){var b=a.getDate();return b.normalized?-1!=b.normalized.indexOf("/")?(b.normalized=b.normalized.split("/"),b.normalized):[b.normalized]:void 0})},getRelativeData:function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c].living||b.push({pid:a[c].id,url:a[c].$getPersistentIdentifier(),name:a[c].$getDisplayName(),gender:a[c].$getDisplayGender(),data:a[c]});return b},getCurrentUser:function(){c.getCurrentUser().then(function(a){return a.getUser()})},setService:function(){return"FamilySearch"},langTemplates:function(){var a=["Standard","Spanish","Portuguese","Cyrillic","Chinese","Japanese","Khmer","Korean","Mongolian","Thai","Vietnamese"];return a},langTemplatesExpanded:function(){var a=this.langTemplates();return"Cyrillic"==$template?($scope.title1="Cyrillic",
$scope.title2="Roman"):"Chinese"==$template?($scope.title1="Hanzi",$scope.title2="Roman"):"Japanese"==$template?($scope.title1="Kanji",$scope.title2="Kana",$scope.title3="Roman"):"Khmer"==$template?($scope.title1="Khmer",$scope.title2="Roman"):"Korean"==$template?($scope.title1="Hangul",$scope.title2="Hanja",$scope.title3="Roman"):"Mongolian"==$template?($scope.title1="Mongolian",$scope.title2="Roman"):"Thai"==$template?($scope.title1="Thai",$scope.title2="Roman"):"Vietnamese"==$template&&($scope.title1="Vietnamese",$scope.title2="Roman"),a},cleanSearch:function(a){return a.givenName&&!a.givenName1&&(a.givenName1=a.givenName),a.surname&&!a.surname1&&(a.surname1=a.surname),"birth"!=a.eventType||a.birthDate||a.birthPlace||(a.birthPlace||(a.birthPlace=a.eventPlace),a.birthDate||!a.eventDateFrom&&!a.eventDateTo||(a.eventDateFrom&&a.eventDateTo?a.eventDateFrom==a.eventDateTo?a.birthDate=a.eventDateFrom:a.birthDate=a.eventDateFrom+"-"+a.eventDateTo:a.eventDateFrom?a.birthDate=a.eventDateFrom:a.eventDateTo&&(a.birthDate=a.eventDateTo))),"death"!=a.eventType||a.deathDate||a.deathPlace||(a.deathPlace||(a.deathPlace=a.eventPlace),a.deathDate||!a.eventDateFrom&&!a.eventDateTo||(a.eventDateFrom&&a.eventDateTo?a.eventDateFrom==a.eventDateTo?a.deathDate=a.eventDateFrom:a.deathDate=a.eventDateFrom+"-"+a.eventDateTo:a.eventDateFrom?a.deathDate=a.eventDateFrom:a.eventDateTo&&(a.deathDate=a.eventDateTo)),(a.deathPlace||a.deathDate)&&(a.status="Deceased")),"burial"==a.eventType&&(a.eventPlace||a.eventDateFrom||a.eventDateTo)&&(a.status="Deceased"),a.langTemplate||(a.langTemplate="Standard"),a.gender||(a.gender="Unknown"),a}}}]),angular.module("recordseekApp").run(["$templateCache",function(a){a.put("views/a-source.html",'<h3>Attach a Source <small> to Ancestry.com</small> </h3> <div class="row container-fluid"> <form ng-submit="goNext()"> <div class="form-group ng-hide" ng-show="debug"> <label>Source <small>(URL)</small> </label> <input type="url" class="form-control" ng-model="data.url" placeholder="Enter a URL" readonly> </div> <div class="form-group ng-hide" ng-show="debug"> <label>Source <small>(Domain)</small> </label> <input type="text" class="form-control" ng-model="data.domain" readonly> </div> <div class="form-group"> <label for="sourceTitle">Source Title</label> <input type="text" class="form-control" ng-model="data.title" required placeholder="Enter a title for this source"> </div> <div class="form-group"> <label for="citation">Where the Record Is Found <small>(Citation)</small> </label> <textarea class="form-control" ng-model="data.citation" required rows="5"></textarea> </div> <div class="text-right"> <a ng-click="goBack()" type="submit" class="btn btn-default pull-left"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;&nbsp; Go Back </a> &nbsp;&nbsp; <button type="submit" class="btn btn-primary">Next &nbsp;&nbsp;<i class="glyphicon glyphicon-arrow-right"></i></button> </div> </form> </div>'),a.put("views/about.html",'<h1>RecordSeek <small>- Sources Done Right</small> </h1> <div style="font-size: 1.2em"><p>Back in 2013 I was a CTO of Real-Time Collaboration, makers of FamilyInsight, AncestorSync, and SharingTime. I found a real need, with the new FamilySearch website, to make the process of adding sources much more simplified. I sat down and in a few weeks RecordSeek was created.</p> <p>For a time we used the name of TreeConnect, but TreeConnect was only ever a "product" of RecordSeek. To avoid confusion, we\'re going back to RecordSeek as the original name.</p> <p>We\'ve had some rough ups and downs, but now RecordSeek has been completely rewritten and is ready for the future!</p> <p>If you would like to integrate RecordSeek into your website, we\'re more than willing. We\'d just request you donate to the effort. You are welcome to contact me directly at <a href="mailto:me@dovy.io?subject=RecordSeek">me@dovy.io</a>.</p> <p>My hope is that RecordSeek makes your genealogy efforts easier. Your ancestors thank you for your efforts.</p> <blockquote>Dovy Paukstys<br> <small>Creator & Owner</small> </blockquote> </div>'),a.put("views/fs-addattach.html",'<span class="pull-right ng-hide text-muted hello-user" ng-show="user">Hello {{user.displayName}}. <a ng-click="logout()">Not {{user.givenName}}?</a></span> <h3>Create a New Person & Attach Source<br> <small>Source: "{{data.title}}"</small> </h3> <div class="bs-callout bs-callout-info" id="callout-helper-context-color-specificity"> <a href class="btn btn-default btn-xs pull-right" ng-click="goBack()">Modify Person Data</a> <h4>Person to be Created</h4> <div class="row"> <div class="col-sm-4 col-xs-6" ng-repeat="item in toCreate"><strong ng-hide="!item.title">{{item.title}}<small class="ng-hide" ng-show="item.sub"> ({{item.sub}})</small>:</strong> <span ng-bind-html="item.value"></span></div> </div> </div> <div class="row"> <form class="col-xs-12" ng-submit="goNext()"> <div class="form-group" show-errors> <label>Reason to Attach this Source to this Person <small>(Optional)</small> </label> <textarea class="form-control" ng-model="data.attach.justification" rows="3">{{data.attach.justification}}</textarea> <span id="helpBlock" class="help-block">This will be useful for other patrons who see your source, and want to know why you attached this source.</span> </div> <div class="text-right"> <a ng-click="goBack()" type="submit" class="btn btn-default pull-left"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;&nbsp; Go Back </a> &nbsp;&nbsp; <button type="submit" class="btn btn-primary">Create<span class="hidden-xs"> & Attach</span></button> </div> </form> </div>'),a.put("views/fs-addperson.html",'<span class="pull-right ng-hide text-muted hello-user" ng-show="user">Hello {{user.displayName}}. <a ng-click="logout()">Not {{user.givenName}}?</a></span> <h3>Create a New Person</h3> <form class="addPerson" ng-init="isDisabled = false" ng-submit="goNext()"> <div class="row hide"> <div class="col-xs-12 form-group"> <div class="btn-group" dropdown is-open="status.isopen"> <span class="btn-text btn-xs text-muted">Name Template:</span> <button type="button" class="btn btn-info btn-xs dropdown-toggle" dropdown-toggle ng-disabled="disabled"> {{data.search.langTemplate}}&nbsp;&nbsp;<span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li ng-repeat="value in langTemplates"> <a ng-click="changeTemplate(value)" href>{{value}}</a> </li> </ul> </div> </div> </div> <div class="row row1"> <div class="col-xs-1 rowTitle ng-hide" ng-class="(data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\') ? \'col-xs-2 rowTitle\' : \'col-xs-2 col-sm-1 rowTitle\'" ng-show="data.search.langTemplate == \'Chinese\' || data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Cyrillic\' ||  data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Korean\' ||  data.search.langTemplate == \'Mongolian\' ||  data.search.langTemplate == \'Thai\' ||  data.search.langTemplate == \'Vietnamese\'"> <div class="form-group text-muted"> {{prefix1}} </div> </div> <div ng-class="(data.search.langTemplate == \'Standard\' || data.search.langTemplate == \'Spanish\' || data.search.langTemplate == \'Portuguese\') ? \'col-sm-2 col-xs-4\' : \'col-sm-1 col-xs-5\'" ng-hide="data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Japanese\'"> <div class="form-group"> <label>Title</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.prefix1" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6 ng-hide" ng-class="(data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Thai\' || data.search.langTemplate == \'Vietnamese\') ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'" ng-show="data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Japanese\' ||  data.search.langTemplate == \'Chinese\'"> <div class="form-group"> <label>Last Names (Surname)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.surname1" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6" ng-class="data.search.langTemplate==\'Thai\' ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'"> <div class="form-group"> <label>Given Name(s)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.givenName1" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6" ng-class="(data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Thai\' || data.search.langTemplate == \'Vietnamese\') ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'" ng-hide="data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Japanese\' ||  data.search.langTemplate == \'Chinese\'"> <div class="form-group"> <label>Last Names (Surname)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.surname1" class="form-control"> </div> </div> </div> <div class="col-sm-2 col-xs-6" ng-hide="data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Thai\'"> <div class="form-group"> <label>Suffix</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.suffix1" class="form-control"> </div> </div> </div> </div> <div class="row row2 ng-hide" ng-show="data.search.langTemplate != \'Standard\' && data.search.langTemplate != \'Spanish\' && data.search.langTemplate != \'Portuguese\'"> <div class="col-xs-1 rowTitle ng-hide" ng-class="(data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\') ? \'col-xs-2 rowTitle\' : \'col-xs-1 rowTitle\'" ng-show="data.search.langTemplate == \'Chinese\' || data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Cyrillic\' ||  data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Korean\' ||  data.search.langTemplate == \'Mongolian\' ||  data.search.langTemplate == \'Thai\' ||  data.search.langTemplate == \'Vietnamese\'"> <div class="form-group text-muted"> {{prefix2}} </div> </div> <div ng-class="(data.search.langTemplate == \'Standard\' || data.search.langTemplate == \'Spanish\' || data.search.langTemplate == \'Portuguese\') ? \'col-sm-2 col-xs-6\' : \'col-sm-1 col-xs-6\'" ng-hide="data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Japanese\'"> <div class="form-group"> <label>Title</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.prefix2" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6 ng-hide" ng-class="(data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Thai\' || data.search.langTemplate == \'Vietnamese\') ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'" ng-show="data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Japanese\' ||  data.search.langTemplate == \'Chinese\'"> <div class="form-group"> <label>Last Names (Surname)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.surname2" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6" ng-class="data.search.langTemplate==\'Thai\' ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'"> <div class="form-group"> <label>Given Name(s)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.givenName2" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6" ng-class="(data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Thai\' || data.search.langTemplate == \'Vietnamese\') ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'" ng-hide="data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Japanese\' ||  data.search.langTemplate == \'Chinese\'"> <div class="form-group"> <label>Last Names (Surname)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.surname2" class="form-control"> </div> </div> </div> <div class="col-sm-2 col-xs-6" ng-hide="data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Thai\'"> <div class="form-group"> <label>Suffix</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.suffix2" class="form-control"> </div> </div> </div> </div> <div class="row row3 ng-hide" ng-show="data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Japanese\'"> <div class="col-xs-1 rowTitle ng-hide" ng-class="(data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\') ? \'col-xs-2 rowTitle\' : \'col-xs-1 rowTitle\'" ng-show="data.search.langTemplate == \'Chinese\' || data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Cyrillic\' ||  data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Korean\' ||  data.search.langTemplate == \'Mongolian\' ||  data.search.langTemplate == \'Thai\' ||  data.search.langTemplate == \'Vietnamese\'"> <div class="form-group text-muted"> {{prefix3}} </div> </div> <div ng-class="(data.search.langTemplate == \'Standard\' || data.search.langTemplate == \'Spanish\' || data.search.langTemplate == \'Portuguese\') ? \'col-sm-2 col-xs-6\' : \'col-sm-1 col-xs-6\'" ng-hide="data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Japanese\'"> <div class="form-group"> <label>Title</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.prefix3" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6 ng-hide" ng-class="(data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Thai\' || data.search.langTemplate == \'Vietnamese\') ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'" ng-show="data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Japanese\' ||  data.search.langTemplate == \'Chinese\'"> <div class="form-group"> <label>Last Names (Surname)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.surname3" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6" ng-class="data.search.langTemplate==\'Thai\' ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'"> <div class="form-group"> <label>Given Name(s)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.givenName3" class="form-control"> </div> </div> </div> <div class="col-sm-4 col-xs-6" ng-class="(data.search.langTemplate == \'Japanese\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Thai\' || data.search.langTemplate == \'Vietnamese\') ? \'col-sm-5 col-xs-6\' : \'col-sm-4 col-xs-6\'" ng-hide="data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Korean\' || data.search.langTemplate == \'Khmer\' ||  data.search.langTemplate == \'Japanese\' ||  data.search.langTemplate == \'Chinese\'"> <div class="form-group"> <label>Last Names (Surname)</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.surname3" class="form-control"> </div> </div> </div> <div class="col-sm-2 col-xs-6" ng-hide="data.search.langTemplate == \'Mongolian\' || data.search.langTemplate == \'Vietnamese\' || data.search.langTemplate == \'Thai\'"> <div class="form-group"> <label>Suffix</label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.suffix3" class="form-control"> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group input-group-sm"> <label>Gender </label> <select class="form-control" ng-disabled="data.search.pid" ng-model="data.search.gender"> <option value="Male">Male</option> <option value="Female">Female</option> <option value="Unknown" selected>Unknown</option> </select> </div> </div> <div class="col-xs-6"> <div class="form-group input-group-sm"> <div class="radio"> <label> <input type="radio" name="status" ng-model="data.search.status" value="Living" required> Living </label> </div> <div class="radio"> <label> <input type="radio" name="status" ng-model="data.search.status" value="Deceased" required> Deceased </label> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group input-group-sm"> <label>Date of Birth</label><br> <input type="text" class="form-control birthDate" placeholder="" ng-disabled="data.search.pid" ng-model="data.search.birthDate" typeahead-wait-ms="650" typeahead="date for date in getDate($viewValue)" typeahead-template-url2="dateResponseTemplate.html" typeahead-input-formatter2="$model.normalized"> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>Birthplace </label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.birthPlace" typeahead-wait-ms="650" typeahead="address for address in getLocation($viewValue)" class="form-control"> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group input-group-sm"> <label>Date of Death</label><br> <input type="text" class="form-control deathDate" placeholder="" ng-disabled="data.search.pid || data.search.status == \'Living\'" ng-model="data.search.deathDate" typeahead-wait-ms="650" typeahead="date for date in getDate($viewValue)" typeahead-template-url2="dateResponseTemplate.html" typeahead-input-formatter2="$model.normalized"> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>Place of Death </label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid || data.search.status == \'Living\'" ng-model="data.search.deathPlace" typeahead-wait-ms="650" typeahead="address for address in getLocation($viewValue)" class="form-control"> </div> </div> </div> </div> <div class="row hide"> <div class="col-xs-12"> <div class="form-group"> <a class="btn btn-default btn-xs" ng-click="isCollapsed = !isCollapsed"> <i ng-class="!isCollapsed ? \'glyphicon glyphicon-chevron-down\' : \'glyphicon glyphicon-chevron-up\'" class="glyphicon glyphicon-chevron-down"></i> Additional Relationships </a> </div> </div> </div> <div class="hide" collapse="!isCollapsed"> <div class="row"> <div class="col-xs-6"> <div class="form-group"> <label>Mother\'s Given<span class="hidden-xs"> Name(s)</span> </label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.motherGivenName"> </div> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>Mother\'s Surname </label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.motherSurname"> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group"> <label>Father\'s Given<span class="hidden-xs"> Name(s)</span></label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.fatherGivenName"> </div> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>Father\'s Surname </label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.fatherSurname"> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <div class="form-group"> <label>Spouse\'s Given<span class="hidden-xs"> Name(s)</span> </label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.spouseGivenName"> </div> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>Spouse\'s Surname </label> <div class="form-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.spouseSurname"> </div> </div> </div> </div> </div> <div class="text-right"> <a ng-click="goBack()" type="submit" class="btn btn-default pull-left"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;&nbsp; Go Back </a> <span class="hidden-xs"><a class="btn btn-link" ng-click="advancedSearch()">{{advancedButtonText}}</a> &nbsp;&nbsp;</span> <button type="submit" class="btn btn-primary">Next &nbsp;&nbsp;<i class="glyphicon glyphicon-arrow-right"></i></button> </div> </form> <script type="text/ng-template" id="dateResponseTemplate.html"><a data-formal="{{match.model.formal}}">\n        <span bind-html-unsafe="match.model.normalized | typeaheadHighlight:query">{{match.model.normalized}}</span>\n    </a></script>'),a.put("views/fs-attach.html",'<span class="pull-right ng-hide text-muted hello-user" ng-show="user">Hello {{user.displayName}}. <a ng-click="logout()">Not {{user.givenName}}?</a></span> <h3>Attach Source to <a href="{{data.attach.url}}" target="_blank" popover-placement="top" popover="View on FamilySearch" popover-trigger="mouseenter">{{data.attach.name}}</a><br><small>Source: "{{data.title}}"</small></h3> <form ng-submit="goNext()"> <div class="form-group" show-errors> <label>Reason to Attach this Source to this Person <small>(Optional)</small> </label> <textarea class="form-control" ng-model="data.attach.justification" rows="5">{{data.attach.justification}}</textarea> <span id="helpBlock" class="help-block">This will be useful for other patrons who see your source, and want to know why you attached it.<br><br>A few examples: <br><ul><li>"This is one of my Grandparents and I know it applies."</li><li>"I\'m not sure if this is correct, more research is needed."</li></ul></span> </div> <div class="text-right"> <a ng-click="goBack()" type="submit" class="btn btn-default pull-left"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;&nbsp; Go Back </a> &nbsp;&nbsp; <button type="submit" class="btn btn-primary">Create<span class="hidden-xs"> & Attach</span></button> </div> </form>'),a.put("views/fs-complete.html",'<h3>Congratulations! A new source has been created and added to <a href="{{data.complete.url}}" target="_blank" popover-placement="top" popover="View on FamilySearch" popover-trigger="mouseenter">{{data.complete.name}}</a>.<br> <small>"{{data.title}}"</small> </h3> <div class="row"> <div class="text-center"> <br><span class="ng-hide" ng-hide="!data.complete"><a href="{{data.complete.url}}" class="btn btn-info" target="_blank">View Profile on FamilySearch</a><br><br></span> <span class="ng-hide" ng-hide="data.complete"><a href="{{$parent.sourceBoxURL}}" class="btn btn-info" target="_blank">View SourceBox on FamilySearch</a><br><br></span> <a ng-click="goSearch()" class="btn btn-warning">Attach to <span class="ng-hide" ng-hide="data.complete">a</span><span class="ng-hide" ng-hide="!data.complete">Another</span> Person</a><br><br> </div> </div> <div class="bs-callout bs-callout-info ng-hide" ng-show="data.search.newPerson"> <h4>A New Profile was Created, Now What?</h4> <p>So there\'s a new person in the FamilyTree, but no one likes to be alone! Did you know that this ancestor has NO relatives attached? Please head over to FamilySearch and find their relatives, parents, or anyone you can to connect them to the Family Tree.</p> <center> <button type="button" class="btn btn-success"><i class="glyphicon glyphicon-tree-deciduous"></i>&nbsp;&nbsp;Tree View</button> <button type="button" class="btn btn-info"><i class="glyphicon glyphicon-user"></i>&nbsp;&nbsp;Profile View</button> </center> </div>'),a.put("views/fs-create.html",'<center> <div class="la-square-jelly-box la-2x la-dark"> <div></div> <div></div> </div> </center> <h3 class="text-center">{{status}}</h3>'),a.put("views/fs-results.html",'<span class="pull-right ng-hide text-muted hello-user" ng-show="user">Hello {{user.displayName}}. <a ng-click="logout()">Not {{user.givenName}}?</a></span> <h3>Are any of these people the <strong>{{data.search.givenName}} {{data.search.surname}}</strong> you’re looking for? </h3> <h5 class="hide">If yes, click <mark class="info">select</mark> . If not, <a ng-click="addPerson()">add a new person</a></h5> <div class="row container-fluid" resize> <form class="results"> <table class="table table-striped table-hover table-condensed table-responsive header-fixed"> <thead> <tr> <th class="select">&nbsp;</th> <th class="person">Person</th> <th class="events">Events</th> <th class="parents">Parents</th> <th class="spouse">Spouse(s)</th> </tr> </thead> <tbody style="max-height: {{windowHeight - 333}}px"> <tr class="active rowNotice" class="ng-hide" ng-show="bigTotalItems"> <td colspan="5"><span class="pull-right">{{min}}-{{max}} of {{bigTotalItems}} results</span>  </td></tr> <tr class="loading" ng-hide="searchResults"> <td colspan="5"><i class="glyphicon glyphicon-time"></i></td> </tr> <tr class="loading ng-hide" ng-hide="!searchResults || searchResults.length > 0"> <td colspan="5">No Results Found</td> </tr> <tr ng-repeat="result in searchResults" class="ng-hide" ng-show="searchResults"> <td class="select vert-align"> <a class="btn btn-xs btn-success" ng-click="goNext(result.pid, result.name, result.url)">Select</a><br><span class="confidence" popover-placement="right" popover="How well this matches your search." popover-trigger="mouseenter"><i class="glyphicon glyphicon-{{result.confidence >= 1 ? \'star\' : \'star-empty\'}}"></i><i class="glyphicon glyphicon-{{result.confidence >= 2 ? \'star\' : \'star-empty\'}}"></i><i class="glyphicon glyphicon-{{result.confidence >= 3 ? \'star\' : \'star-empty\'}}"></i><i class="glyphicon glyphicon-{{result.confidence >= 4 ? \'star\' : \'star-empty\'}}"></i><i class="glyphicon glyphicon-{{result.confidence >= 5 ? \'star\' : \'star-empty\'}}"></i></span><i></i> </td> <td class="person"><i class="glyphicon glyphicon-stop {{result.gender}}"></i><a href="{{result.url}}" popover-placement="right" popover="View on FamilySearch" popover-trigger="mouseenter" target="_blank">{{result.name}}</a><br> <small>{{result.pid}}</small> </td> <td class="events"> <div class="birth ng-hide" ng-show="result.birthDate || result.birthPlace"><span class="eLabel" popover-placement="top" popover="Birth" popover-trigger="mouseenter">b.</span> {{result.birthDate}} <i class="glyphicon glyphicon-map-marker ng-hide" ng-show="result.birthPlace && result.birthDate" popover-trigger="mouseenter" popover-placement="top" popover="{{result.birthPlace}}"></i> <span class="ng-hide" ng-show="result.birthPlace && !result.birthDate" popover-trigger="mouseenter" popover-placement="top" popover="{{result.birthPlace}}">{{result.birthPlace}}</span> </div> <div class="death ng-hide" ng-show="result.deathDate || result.deathPlace"><span popover-placement="bottom" popover="Death" popover-trigger="mouseenter" class="eLabel">d.</span> {{result.deathDate}} <i class="glyphicon glyphicon-map-marker ng-hide" ng-show="result.deathPlace && result.deathDate" popover-trigger="mouseenter" popover-placement="bottom" popover="{{result.deathPlace}}"></i> <span class="ng-hide" ng-show="result.deathPlace && !result.deathDate" popover-trigger="mouseenter" popover-placement="bottom" popover="{{result.deathPlace}}">{{result.deathPlace}}</span> </div> </td> <td class="parents"><span ng-repeat="father in result.father"><i class="glyphicon glyphicon-stop {{father.gender}}"></i><a href="{{father.url}}" target="_blank">{{father.name}}</a></span> <span ng-repeat="mother in result.mother"><i class="glyphicon glyphicon-stop {{mother.gender}}"></i><a href="{{mother.url}}" target="_blank">{{mother.name}}</a></span> </td> <td class="spouse"><span ng-repeat="spouse in result.spouse"><i class="glyphicon glyphicon-stop {{spouse.gender}}"></i><a href="{{spouse.url}}" target="_blank">{{spouse.name}}</a></span></td> </tr> </tbody> </table> <center> <pagination total-items="bigTotalItems" ng-model="currentPage" max-size="maxSize" class="pagination-sm" items-per-page="15" boundary-links="true" rotate="false" num-pages="numPages" ng-change="pageChanged()"></pagination> </center> <div class="row container-fluid text-center result-action"> <div class="btn-toolbar"> <div class="btn-group pull-left"> <a ng-click="goBack()" class="btn btn-primary"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;&nbsp; Modify Search</a> </div> <div class="btn-group pull-right"> <span class="btn-text text-muted hidden-xs">If found, click <mark class="success">Select</mark>.</span> <div class="hide"><span class="btn-text text-muted hidden-xs">No luck?</span> <a ng-click="addPerson()" class="btn btn-default">Add a New Person<span class="hidden-xs">&nbsp;&nbsp;&nbsp;<i class="glyphicon glyphicon glyphicon-hand-right"></i></span></a> </div> </div> </div> </div> </form> </div>'),a.put("views/fs-search.html",'<span class="pull-right ng-hide text-muted hello-user" ng-show="user">Hello {{user.displayName}}. <a ng-click="logout()">Not {{user.givenName}}?</a></span> <h3>Search for an existing person</h3> <div class="row container-fluid"> <form class="personSearch" ng-init="isDisabled = false" ng-submit="goNext()"> <div class="visible-xs"> <div class="row"> <div class="col-sm-12"> <div class="form-group input-group-sm"> <label>Search by Person ID Number </label> <input type="text" class="form-control" ng-model="data.search.pid"> </div> </div> </div> <hr> </div> <div class="row"> <div class="col-sm-3 col-xs-6"> <div class="form-group"> <label>Given Name(s)</label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.givenName"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.givenNameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> <div class="col-sm-3 col-xs-6"> <div class="form-group input-group-sm"> <label class="hidden-xs">Last Names (Surname)</label> <label class="visible-xs">Surname</label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.surname"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.surnameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> <div class="col-sm-3 col-xs-6"> <div class="form-group input-group-sm"> <label>Gender </label> <select class="form-control" ng-disabled="data.search.pid" ng-model="data.search.gender"> <option></option> <option value="Male">Male</option> <option value="Female">Female</option> <option value="Unknown">Unknown</option> </select> </div> </div> <div class="col-sm-3 col-xs-6"> <div class="form-group input-group-sm"> <label>Event Type </label> <select class="form-control" ng-disabled="data.search.pid" ng-model="data.search.eventType"> <option></option> <option value="birth">Birth</option> <option value="christening">Christening</option> <option value="marriage">Marriage</option> <option value="death">Death</option> <option value="burial">Burial</option> </select> </div> </div> </div> <div class="visible-xs"> <div class="row"> <div class="col-sm-3"> <div class="form-group input-group-sm"> <label>Event Year (Range) </label><br> <input type="text" class="form-control eventYearFrom" placeholder="From" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventDateFrom"> <input type="text" class="form-control eventYearTo" placeholder="To" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventDateTo"> </div> </div> <div class="col-sm-3"> <div class="form-group"> <label>Event Place </label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventPlace" typeahead-wait-ms="450" typeahead="address for address in getLocation($viewValue)" class="form-control"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventPlaceExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-3 col-xs-6"> <div class="form-group"> <label>Spouse\'s Given<span class="hidden-xs"> Name(s)</span> </label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.spouseGivenName"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.spouseGivenNameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> <div class="col-sm-3 col-xs-6"> <div class="form-group"> <label>Spouse\'s Surname </label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.spouseSurname"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.spouseSurnameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> <div class="hidden-xs"> <div class="col-sm-3"> <div class="form-group input-group-sm"> <label>Event Year (Range) </label><br> <input type="text" class="form-control eventYearFrom" placeholder="From" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventDateFrom"> <input type="text" class="form-control eventYearTo" placeholder="To" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventDateTo"> </div> </div> <div class="col-sm-3"> <div class="form-group"> <label>Event Place </label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventPlace" typeahead-wait-ms="450" typeahead="address for address in getLocation($viewValue)" class="form-control"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid || !data.search.eventType" ng-model="data.search.eventPlaceExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-3 col-xs-6"> <div class="form-group"> <label>Mother\'s Given<span class="hidden-xs"> Name(s)</span> </label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.motherGivenName"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.motherGivenNameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> <div class="col-sm-3 col-xs-6"> <div class="form-group"> <label>Mother\'s Surname </label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.motherSurname"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.motherSurnameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> <div class="col-sm-3 col-xs-6"> <div class="form-group"> <label>Father\'s Given<span class="hidden-xs"> Name(s)</span></label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.fatherGivenName"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.fatherGivenNameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> <div class="col-sm-3 col-xs-6"> <div class="form-group"> <label>Father\'s Surname </label> <div class="input-group input-group-sm"> <input type="text" class="form-control" ng-disabled="data.search.pid" ng-model="data.search.fatherSurname"> <div class="input-group-addon" ng-show="data.search.advanced"> <input type="checkbox" ng-disabled="data.search.pid" ng-model="data.search.fatherSurnameExact" value="0" popover="Exact" popover-trigger="mouseenter" popover-placement="bottom"> </div> </div> </div> </div> </div> <div class="hidden-xs"> <hr> <div class="row"> <div class="col-xs-12"> <div class="form-group input-group-sm"> <label>Search by Person ID Number </label> <input type="text" class="form-control" ng-model="data.search.pid"> </div> </div> </div> </div> <div class="text-right"> <a ng-click="goBack()" type="submit" class="btn btn-default pull-left"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;&nbsp; Modify Source </a> <span class="hidden-xs"><a class="btn btn-link" ng-click="advancedSearch()">{{advancedButtonText}}</a> &nbsp;&nbsp;</span> <span class=""><a class="btn btn-default btn-sm" ng-click="resetSearch()">Reset</a> &nbsp;&nbsp;</span> <button type="submit" class="btn btn-primary" ng-disabled="validData()">Next &nbsp;&nbsp;<i class="glyphicon glyphicon-arrow-right"></i></button> <span class="visible-xs"><a class="btn btn-link" ng-click="advancedSearch()">{{advancedButtonText}}</a></span> </div> </form> </div>'),
a.put("views/fs-source.html",'<span class="pull-right ng-hide text-muted hello-user" ng-show="user">Hello {{user.displayName}}. <a ng-click="logout()">Not {{user.givenName}}?</a></span> <h3 xmlns="http://www.w3.org/1999/html">Attach a Source <br><a class="btn btn-success pull-right btn-sm sourceTags" popover-template="\'tagTemplate.html\'" popover-placement="left"><i class="glyphicon glyphicon-tags"></i> Tag this Source to Events <span class="badge">{{tagCount}}</span></a> <small class="hide">Before we add {name} to your tree, let’s create a source (similar to a bookmark) for future reference.</small><!--<a class="btn btn-info pull-right btn-sm ng-hide" ng-click="goUpload()">Upload Memory</a>--> </h3> <div class="row container-fluid"> <form ng-submit="goNext()"> <div class="form-group input-group-sm"> <label>Source Title </label> <input type="text" class="form-control" ng-model="data.title" placeholder="Enter a title for this source" required> </div> <div class="form-group input-group-sm"> <label>Source <small>(URL)</small> </label> <input type="text" class="form-control" ng-model="data.url" placeholder="Enter a URL" required> </div> <div class="form-group input-group-sm"> <label>Where the Record Is Found <small>(Citation)</small> </label> <textarea class="form-control" ng-model="data.citation" rows="3" required></textarea> </div> <div class="form-group input-group-sm" show-errors> <label>Describe the Record <small>(Notes)</small> </label> <textarea class="form-control" ng-model="data.notes" rows="3"></textarea> </div> <!--<div class="form-group input-group-sm ng-hide hide" ng-show="debug">--> <!--<label>Source Box--> <!--<small>(Folder)</small>--> <!--</label>--> <!--<input type="text" class="form-control" ng-model="data.box" placeholder="RecordSeek" --> <!--readonly>--> <!--</div>--> <div class="text-right"> <a ng-click="goBack()" type="submit" class="btn btn-default pull-left"><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;&nbsp; Go Back </a> <span class="hidden-xs"><a ng-click="createNow()" class="btn btn-xs btn-default" popover-placement="left" popover="Save the source to your SourceBox, without attaching to a profile." popover-trigger="mouseenter">Save Now, Attach Later</a><br class="visible-xs"> &nbsp;&nbsp;</span> <button type="submit" class="btn btn-primary">Next &nbsp;&nbsp;<i class="glyphicon glyphicon-arrow-right"></i></button> <span class="visible-xs"><br><a ng-click="createNow()" class="btn btn-xs btn-default" popover-placement="left" popover="Save the source to your SourceBox, without attaching to a profile." popover-trigger="mouseenter">Save Now, Attach Later</a></span> </div> </form> </div> <script type="text/ng-template" id="tagTemplate.html"><div><strong>Select the events this source should be attached to.</strong></div>\n\n    <div class="form-group">\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" ng-click="tagCounting()" ng-model="data.tags.Name">\n                Name\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" ng-true=value="\'1\'" ng-false-value = "\'0\'" ng-click="tagCounting()" ng-model="data.tags.Gender">\n                Gender\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" ng-true=value="\'1\'" ng-false-value = "\'0\'" ng-click="tagCounting()" ng-model="data.tags.Birth">\n                Birth\n            </label>\n        </div>\n\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" ng-true=value="\'1\'" ng-false-value = "\'0\'" ng-click="tagCounting()" ng-model="data.tags.Christening">\n                Christening\n            </label>\n        </div>\n\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" ng-true=value="\'1\'" ng-false-value = "\'0\'" ng-click="tagCounting()" ng-model="data.tags.Death">\n                Death\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" ng-true=value="\'1\'" ng-false-value = "\'0\'" ng-click="tagCounting()" ng-model="data.tags.Burial">\n                Burial\n            </label>\n        </div>\n    </div></script>'),a.put("views/fs-upload.html","<p>This is the fs-upload view.</p>"),a.put("views/loading.html",'<center> <div class="la-square-jelly-box la-2x la-dark"> <div></div> <div></div> </div> </center> <h3 class="text-center">{{status}}</h3>'),a.put("views/main.html",'<div class="alert alert-warning text-center" role="alert">We\'ve had login issues with FamilySearch over the past few weeks. We just pushed a release, and it should be working perfect. Please let us know if you experience any issues.</div> <div class="alert alert-warning text-center hide" role="alert">Our appologies for the errors with FamilySearch the last 24 hours. These issues have been resolved.</div> <div class="alert alert-success text-center hide" role="alert">RecordSeek is now fully functional on mobile. So grab out your tablet and start sourcing!&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://dovy.io/recordseek/recordseek-redesigned-from-the-ground-up/" class="btn btn-primary btn-sm hide" ng-click="actionTaken(\'Blog\')" target="_blank">Learn More</a></div> <div class="jumbotron"> <h1>Create a Source</h1> <p class="lead"> Please select a service to add your source to. </p> </div> <div class="container-fluid serviceSelect"> <div class="row"> <div class="col-xs-6 text-center"> <a data-href="/fs-source" data-tracking="FamilySearch" ng-click="actionTaken( $event )"><img src="images/familysearch.678b6afc.png" class="img-responsive img-thumbnail hidden-xs center-block" popover-placement="bottom" popover="FamilySearch.org" popover-trigger="mouseenter"><img src="images/familysearch-icon.7ec9848b.png" class="img-responsive img-thumbnail visible-xs center-block"></a><h4 class="visible-xs text-muted" style="margin-top:10.5px">FamilySearch</h4> </div> <div class="col-xs-6 text-center"> <a data-href="/a-source" data-tracking="Ancestry" ng-click="actionTaken( $event )"><img src="images/ancestry.51d16250.png" class="img-responsive img-thumbnail hidden-xs center-block" popover-placement="bottom" popover="Ancestry.com" popover-trigger="mouseenter"><img src="images/ancestry-icon.2e04fdbb.png" class="img-responsive img-thumbnail visible-xs center-block"></a><h4 class="visible-xs text-muted" style="margin-top:10.5px">Ancestry</h4> </div> </div> </div>'),a.put("views/support.html",'<h1>Get Support <small>( sometimes we all just need a little help )</small></h1> <h4>Should you need anything, or have ideas, please drop me a line.</h4> <h4 class="text-center"><a href="mailto:me@dovy.io?subject=RecordSeek">me@dovy.io</a></h4>')}]);